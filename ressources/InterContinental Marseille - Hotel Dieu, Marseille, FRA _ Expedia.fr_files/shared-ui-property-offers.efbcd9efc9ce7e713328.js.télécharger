(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"8kft":function(e,t,n){n.r(t),n.d(t,"SharedUiOffersFactory",(function(){return S}));var r=n("GiK3"),o=n("Mn8c"),i=n("n+Gs"),a=n("R5V4"),l=n("ZvO6"),u=n("OtDA"),c=n("GyZ8"),s=n("xXbv"),v=n("y986"),d=n("ZDeL"),p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},m=function(e){var t=Object(o.inject)("currentHotel","context","multiItem")((function(t){var n=t.currentHotel,o=t.context,i=t.multiItem,a=f(t,["currentHotel","context","multiItem"]);if(!n||!n.searchCriteria)return null;var l=Object(d.c)(o,n,null==i?void 0:i.multiItemContext),u=Object(v.toJS)(null==n?void 0:n.bexApiPropertyInfoOffersResponse),c=Object(v.toJS)(null==n?void 0:n.sharedUiPropertyReviewAggregatesResponse),s=Object(v.toJS)(null==n?void 0:n.sharedUiAmenitiesResponse);if(!u)return null;var m={propertyInfo:p(p({},u),{summary:{amenities:s}}),propertyReviewAggregates:c};return r.createElement(e,p({inputs:l,data:m},a))}));return t.displayName="PropertyOffersComponent",t},y=i.ClientLogger.getLoggerWithIdentifier("pwa.component.reserveForm"),O=Object(o.inject)("analytics","context","currentHotel","experiment","multiItem","page","routeStore")(Object(o.observer)((function(e){var t=e.inputs,n=e.data,o=e.analytics,i=e.context,v=e.currentHotel,d=e.experiment,p=e.multiItem,f=e.page,m=e.routeStore;if(null==v?void 0:v.loadingOffers)return r.createElement(s.LoadingPlaceholder,null);var O=function(e,t,n,r,l){var s,O;return p.addPropertyToCart(i,Object(c.a)(e),Object(c.b)(v.searchCriteria,null===(O=null===(s=v.hotel)||void 0===s?void 0:s.overview)||void 0===O?void 0:O.regionId),t,o,n).catch(function(e){return function(t){var n;0===(null==p?void 0:p.itemCount)?("function"==typeof(null===(n=null==e?void 0:e.current)||void 0===n?void 0:n.submit)&&e.current.submit(),y.logEvent(new a.SystemEvent(a.SystemEventLevel.WARN,"FALLBACK_TO_STANDALONE_BOOKING"))):t===u.b&&(v.fetch(null,i,p,d,f).then((function(){var e;(null===(e=null==m?void 0:m.queryParams)||void 0===e?void 0:e.pwaDialogNested)&&m.goBack()})),y.logEvent(new a.SystemEvent(a.SystemEventLevel.WARN,"INCOMPATIBLE_RATEPLAN")))}}(l))},b=function(e){p.errorMessage||p.setGenericError(),y.logEvent(new a.SystemEvent(a.SystemEventLevel.ERROR,"FAILED_TO_ADD_HOTEL_TO_MULTIITEM_SESSION"),e)},w=function(e,t,n,r){var o;return p.selectProducts(i,null===(o=p.multiItemContext)||void 0===o?void 0:o.id,r,Object(c.a)(e),null,null).then((function(){var e;if(!(null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.href))return Promise.reject("window.location.href does not exist");window.location.href=p.redirectUrl})).catch(b)};return r.createElement(l.b,{inputs:t,data:n,availabilityCtaCallback:function(){v.setOpenNewDatePicker(!0)},handleMultiItemCallback:(null==p?void 0:p.showMultiPropExperience)?O:(null==p?void 0:p.isPackageShoppingPath())?w:void 0})})));O.displayName="SharedUiPropertyOffers";var b=m(O),w=function(e){var t=e.data,n=e.inputs;return r.createElement(l.d,{inputs:n,data:t})};w.displayName="SpaceDetailsWrapper";var g=m(w),h=function(e){var t=e.data,n=e.inputs;return r.createElement(l.c,{data:t,inputs:n})};h.displayName="SharedUiTripSummary";var E=m(h),S=function(e){switch(e.name){case"offers":return r.createElement(b,null);case"tripSummary":return r.createElement(E,null);case"spaceDetails":return r.createElement(g,null);default:return null}};t.default=S}}]);
//# sourceMappingURL=shared-ui-property-offers.efbcd9efc9ce7e713328.js.map